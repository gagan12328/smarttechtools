{% load static %}
<link rel="stylesheet" type="text/css" href="{% static 'service/style.css' %}">
<div class="header-container-wrapper">
  <div class="header-container">
    <div class="custom-header-bg">
      <div class="page-center">
        <div class="logo">Smart File</div>
        <div class="navigation">
          <ul>
            <li><a href="#" class="button click-upload"><i class="fa fa-cloud-upload" aria-hidden="true"></i>Upload</a></li>
            <li><a href="#" class="button open-progress"><i class="fa fa-tasks" aria-hidden="true"></i>Progress</a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="body-container-wrapper">
  <div class="body-container">
    <div class="page-center">
      
     

      
      <i class="fa fa-cloud" aria-hidden="true"></i>
      <h1>Upload Your <strong>Files</strong> To Qbus Server</h1>
      <a class="upload" id="call-to-action"><span>Select Your Upload</span></a>
      <form id="upload" method="post" action="upload.php" enctype="multipart/form-data">
        <div id="drop">
      <input type="file" name="upl" multiple  multiple class="upload-hidden">
          </div>
        </form>
      <div class="file-upload-bar">
        <div class="bar-wrapper">
          <div class="overall"><span>Overall Progress</span>
            <div class="progress-bar-overall">
              <span><b>20%</b></span>
            </div>
          </div>
          <div class="individual-files">
            <ul>
              <li>
                <span class="filename"><i>File Name:</i><b>xyz.jpg</b></span>
                <span class="filesize"><i>File Size:</i><b>Mb</b></span>
                <span class="file-link"><i>File Link</i><b><input value="http://www.qbus.com/txt.jpg"></b></span>
                <span class="copy-link"><b>Copy Link</b></span>
              </li>
              <li>
                <span class="filename"><i>File Name:</i><b>xyz.jpg</b></span>
                <span class="filesize"><i>File Size:</i><b>Mb</b></span>
                <span class="file-link"><i>File Link</i><b><input value="http://www.qbus.com/txt.jpg"></b></span>
                <span class="copy-link"><b>Copy Link</b></span>
              </li>
              <li>
                <span class="filename"><i>File Name:</i><b>xyz.jpg</b></span>
                <span class="filesize"><i>File Size:</i><b>Mb</b></span>
                <span class="file-link"><i>File Link</i><b><input value="http://www.qbus.com/txt.jpg"></b></span>
                <span class="copy-link"><b>Copy Link</b></span>
              </li>
              <li>
                <span class="filename"><i>File Name:</i><b>xyz.jpg</b></span>
                <span class="filesize"><i>File Size:</i><b>Mb</b></span>
                <span class="file-link"><i>File Link</i><b><input value="http://www.qbus.com/txt.jpg"></b></span>
                <span class="copy-link"><b>Copy Link</b></span>
              </li>
              <li>
                <span class="filename"><i>File Name:</i><b>xyz.jpg</b></span>
                <span class="filesize"><i>File Size:</i><b>Mb</b></span>
                <span class="file-link"><i>File Link</i><b><input value="http://www.qbus.com/txt.jpg"></b></span>
                <span class="copy-link"><b>Copy Link</b></span>
              </li>
              <li>
                <span class="filename"><i>File Name:</i><b>xyz.jpg</b></span>
                <span class="filesize"><i>File Size:</i><b>Mb</b></span>
                <span class="file-link"><i>File Link</i><b><input value="http://www.qbus.com/txt.jpg"></b></span>
                <span class="copy-link"><b>Copy Link</b></span>
              </li>
              <li>
                <span class="filename"><i>File Name:</i><b>xyz.jpg</b></span>
                <span class="filesize"><i>File Size:</i><b>Mb</b></span>
                <span class="file-link"><i>File Link</i><b><input value="http://www.qbus.com/txt.jpg"></b></span>
                <span class="copy-link"><b>Copy Link</b></span>
              </li>
              <li>
                <span class="filename"><i>File Name:</i><b>xyz.jpg</b></span>
                <span class="filesize"><i>File Size:</i><b>Mb</b></span>
                <span class="file-link"><i>File Link</i><b><input value="http://www.qbus.com/txt.jpg"></b></span>
                <span class="copy-link"><b>Copy Link</b></span>
              </li>
              <li>
                <span class="filename"><i>File Name:</i><b>xyz.jpg</b></span>
                <span class="filesize"><i>File Size:</i><b>Mb</b></span>
                <span class="file-link"><i>File Link</i><b><input value="http://www.qbus.com/txt.jpg"></b></span>
                <span class="copy-link"><b>Copy Link</b></span>
              </li>
              <li>
                <span class="filename"><i>File Name:</i><b>xyz.jpg</b></span>
                <span class="filesize"><i>File Size:</i><b>Mb</b></span>
                <span class="file-link"><i>File Link</i><b><input value="http://www.qbus.com/txt.jpg"></b></span>
                <span class="copy-link"><b>Copy Link</b></span>
              </li>
              <li>
                <span class="filename"><i>File Name:</i><b>xyz.jpg</b></span>
                <span class="filesize"><i>File Size:</i><b>Mb</b></span>
                <span class="file-link"><i>File Link</i><b><input value="http://www.qbus.com/txt.jpg"></b></span>
                <span class="copy-link"><b>Copy Link</b></span>
              </li>
              <li>
                <span class="filename"><i>File Name:</i><b>xyz.jpg</b></span>
                <span class="filesize"><i>File Size:</i><b>Mb</b></span>
                <span class="file-link"><i>File Link</i><b><input value="http://www.qbus.com/txt.jpg"></b></span>
                <span class="copy-link"><b>Copy Link</b></span>
              </li>
            </ul>
            </div>
        </div>
      </div>
      <div class="file-upload-bar-closed"></div>
    </div>
  </div>
</div>

<div class="footer-container-wrapper">
  <div class="footer-container">
    <div class="custom-footer-bg">
      <div class="page-center">
        <p>@Copyright Qbus</p>
      </div>
    </div>
  </div>
</div>
<script>
$('#call-to-action,.click-upload').click(function() {
  $('#call-to-action').addClass('upload--loading');
  $('.upload-hidden').click();
});
$('.upload-hidden').change(function() {
  $('#call-to-action').removeClass('upload--loading');
  $('body').addClass('file-process-open');
});
$('.file-upload-bar-closed').click(function() {
  $('body').removeClass('file-process-open');
});
$('.open-progress').click(function() {
  $('body').toggleClass('file-process-open');
});

$(function() {

  var ul = $('#upload ul');

  $('#drop a').click(function() {
    // Simulate a click on the file input button
    // to show the file browser dialog
    $(this).parent().find('input').click();
  });

  // Initialize the jQuery File Upload plugin
  $('#upload').fileupload({

    // This element will accept file drag/drop uploading
    dropZone: $('#drop'),

    // This function is called when a file is added to the queue;
    // either via the browse button, or via drag/drop:
    add: function(e, data) {

      var tpl = $('<li class="working"><input type="text" value="0" data-width="48" data-height="48"' +
        ' data-fgColor="#0788a5" data-readOnly="1" data-bgColor="#3e4043" /><p></p><span></span></li>');

      // Append the file name and file size
      tpl.find('p').text(data.files[0].name)
        .append('<i>' + formatFileSize(data.files[0].size) + '</i>');

      // Add the HTML to the UL element
      data.context = tpl.appendTo(ul);

      // Initialize the knob plugin
      tpl.find('input').knob();

      // Listen for clicks on the cancel icon
      tpl.find('span').click(function() {

        if (tpl.hasClass('working')) {
          jqXHR.abort();
        }

        tpl.fadeOut(function() {
          tpl.remove();
        });

      });

      // Automatically upload the file once it is added to the queue
      var jqXHR = data.submit();
    },

    progress: function(e, data) {

      // Calculate the completion percentage of the upload
      var progress = parseInt(data.loaded / data.total * 100, 10);

      // Update the hidden input field and trigger a change
      // so that the jQuery knob plugin knows to update the dial
      data.context.find('input').val(progress).change();

      if (progress == 100) {
        data.context.removeClass('working');
      }
    },

    fail: function(e, data) {
      // Something has gone wrong!
      data.context.addClass('error');
    }

  });

  // Prevent the default action when a file is dropped on the window
  $(document).on('drop dragover', function(e) {
    e.preventDefault();
  });

  // Helper function that formats the file sizes
  function formatFileSize(bytes) {
    if (typeof bytes !== 'number') {
      return '';
    }

    if (bytes >= 1000000000) {
      return (bytes / 1000000000).toFixed(2) + ' GB';
    }

    if (bytes >= 1000000) {
      return (bytes / 1000000).toFixed(2) + ' MB';
    }

    return (bytes / 1000).toFixed(2) + ' KB';
  }

});
</script>
